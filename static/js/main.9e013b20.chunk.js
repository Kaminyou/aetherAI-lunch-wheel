(this["webpackJsonpaetherai-lunch"]=this["webpackJsonpaetherai-lunch"]||[]).push([[0],{61:function(e,t,n){},62:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(4),c=n.n(o),l=(n(61),n.p,n(62),n(12)),r=n(5),s=function(e){var t=e.segments,n=e.segColors,i=e.winningSegment,o=e.onFinished,c=e.primaryColor,s=void 0===c?"black":c,h=e.contrastColor,u=void 0===h?"white":h,f=e.buttonText,b=void 0===f?"Spin":f,d=e.isOnlyOnce,g=void 0===d||d,j=e.size,v=void 0===j?290:j,m=e.upDuration,O=void 0===m?100:m,p=e.downDuration,x=void 0===p?500:p,y=e.fontFamily,P=void 0===y?"proxima-nova":y,S="",I=!1,M=Object(a.useState)(!1),T=Object(l.a)(M,2),w=T[0],k=T[1],C=0,E=t.length,L=0,A=0,B=null,F=Math.PI/"".concat(t.length),D=t.length*O,N=t.length*x,W=0,J=0,Q=300,z=300;Object(a.useEffect)((function(){return q(),setTimeout((function(){window.scrollTo(0,1)}),0),function(){document.getElementById("canvas").removeEventListener("click",H)}}),[t]);var q=function(){S="",I=!1,k(!1),C=0,E=t.length,B=null,F=Math.PI/"".concat(t.length),D=t.length*O,N=t.length*x,W=0,J=0,G(),R()},G=function(){var e=document.getElementById("canvas");console.log(navigator),-1!==navigator.userAgent.indexOf("MSIE")&&((e=document.createElement("canvas")).setAttribute("width",1e3),e.setAttribute("height",600),e.setAttribute("id","canvas"),document.getElementById("wheel").appendChild(e)),e.addEventListener("click",H,!1),B=e.getContext("2d")},H=function(){I=!0,0===C&&(W=(new Date).getTime(),F=Math.PI/t.length,J=0,C=setInterval(K,E))},K=function(){J++,R();var e=(new Date).getTime()-W,n=0,a=!1;for(e<D?(n=e/D,A=F*Math.sin(n*Math.PI/2)):(i&&S===i&&J>t.length?(n=e/D,A=F*Math.sin(n*Math.PI/2+Math.PI/2),n=1):(n=e/N,A=F*Math.sin(n*Math.PI/2+Math.PI/2)),n>=1&&(a=!0)),L+=A;L>=2*Math.PI;)L-=2*Math.PI;a&&(k(!0),o(S),clearInterval(C),C=0,A=0)},R=function(){U(),Y(),Z()},X=function(e,a,i){var o=B,c=t[e];o.save(),o.beginPath(),o.moveTo(Q,z),o.arc(Q,z,v,a,i,!1),o.lineTo(Q,z),o.closePath(),o.fillStyle=n[e],o.fill(),o.stroke(),o.save(),o.translate(Q,z),o.rotate((a+i)/2),o.fillStyle=u,o.font="bold 1em "+P,o.fillText(c.substr(0,21),v/2+20,0),o.restore()},Y=function(){var e=B,n=L,a=t.length,i=2*Math.PI;e.lineWidth=1,e.strokeStyle=s,e.textBaseline="middle",e.textAlign="center",e.font="1em "+P;for(var o=1;o<=a;o++){var c=i*(o/a)+L;X(o-1,n,c),n=c}e.beginPath(),e.arc(Q,z,50,0,i,!1),e.closePath(),e.fillStyle=s,e.lineWidth=10,e.strokeStyle=u,e.fill(),e.font="bold 1em "+P,e.fillStyle=u,e.textAlign="center",e.fillText(b,Q,303),e.stroke(),e.beginPath(),e.arc(Q,z,v,0,i,!1),e.closePath(),e.lineWidth=10,e.strokeStyle=s,e.stroke()},Z=function(){var e=B;e.lineWidth=1,e.strokeStyle=u,e.fileStyle=u,e.beginPath(),e.moveTo(320,250),e.lineTo(280,250),e.lineTo(Q,230),e.closePath(),e.fill();var n=L+Math.PI/2,a=t.length-Math.floor(n/(2*Math.PI)*t.length)-1;a<0&&(a+=t.length),e.textAlign="center",e.textBaseline="middle",e.fillStyle=s,e.font="bold 1.5em "+P,S=t[a],I&&e.fillText(S,310,z+v+50)},U=function(){B.clearRect(0,0,1e3,800)};return Object(r.jsx)("div",{id:"wheel",children:Object(r.jsx)("canvas",{id:"canvas",width:"600",height:"600",style:{pointerEvents:w&&g?"none":"auto"}})})},h=n(53),u=n(110),f=n(115),b=n(112),d=n(114);function g(e){var t=e.restaurantListList,n=e.setListName,i=e.currentListName,o=Object(h.a)({palette:{primary:{main:"#49513C"}}}),c=Object(a.useState)(null),s=Object(l.a)(c,2),g=s[0],j=s[1],v=Boolean(g),m=function(e,t){j(null),n(e)};return Object(r.jsxs)(u.a,{theme:o,children:[Object(r.jsxs)(f.a,{id:"basic-button",color:"primary",variant:"contained",onClick:function(e){j(e.currentTarget)},style:{textTransform:"none"},children:[i," set"]}),Object(r.jsx)(b.a,{id:"basic-menu",anchorEl:g,open:v,onClose:m,MenuListProps:{"aria-labelledby":"basic-button"},children:t.map((function(e){return Object(r.jsx)(d.a,{onClick:function(t){return m(e)},children:e})}))})]})}var j=n(52),v=n.n(j);var m=function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)("general"),c=Object(l.a)(o,2),h=c[0],u=c[1],f=Object(a.useState)([]),b=Object(l.a)(f,2),d=b[0],j=b[1],m=Object(a.useState)([]),O=Object(l.a)(m,2),p=O[0],x=O[1],y=Object(a.useState)([]),P=Object(l.a)(y,2),S=P[0],I=P[1],M=Object(a.useState)([]),T=Object(l.a)(M,2),w=T[0],k=T[1],C=["#ff9900","#b36b00","#ffe6bf","#ffcc80","#00b366","#007d48","#bfffe4","#80ffc9","#400099","#2d006b","#dabfff","#b580ff"],E=function(){var e=[];p.length>0&&j(Object.keys(p[0])),p.forEach((function(t){h in t&&""!==t[h]&&e.push(t[h])})),I(e);var t=Math.ceil(e.length/C.length);k(function(e,t){return Array.from({length:t},(function(){return e})).flat()}(C,t))};return Object(a.useEffect)((function(){v.a.get("https://opensheet.vercel.app/1wqfGJb1KAiTt2mhr2oQkfBbfiQrAJapH8BXQ196YZgo/restaurant").then((function(e){x(e.data)})).catch((function(e){i(!1),console.error(e)}))}),[]),Object(a.useEffect)((function(){I([]),E(),console.log(h),console.log(S)}),[p,h]),S.length>0?Object(r.jsxs)("div",{className:"wheelwrapper",children:[Object(r.jsx)(g,{restaurantListList:d,setListName:u,currentListName:h}),Object(r.jsx)(s,{segments:S,segColors:w,onFinished:function(e){return function(e){console.log(e)}(e)},primaryColor:"black",contrastColor:"white",buttonText:"Spin",isOnlyOnce:!1,size:200,upDuration:100,downDuration:500,fontFamily:"Arial"})]}):n?Object(r.jsx)("p",{children:"Loading ..."}):Object(r.jsx)("p",{children:"Error!"})};var O=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)("header",{className:"App-header",children:[Object(r.jsx)("h1",{children:"aetherAI Lunch Wheel"}),Object(r.jsx)(m,{})]})})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,116)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),o(e),c(e)}))};c.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(O,{})}),document.getElementById("root")),p()}},[[87,1,2]]]);
//# sourceMappingURL=main.9e013b20.chunk.js.map