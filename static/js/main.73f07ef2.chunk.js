(this["webpackJsonpaetherai-lunch"]=this["webpackJsonpaetherai-lunch"]||[]).push([[0],{61:function(e,t,n){},62:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),a=n(4),l=n.n(a),c=(n(61),n.p,n(62),n(12)),r=n(5),s=function(e){var t=e.segments,n=e.segColors,o=e.winningSegment,a=e.onFinished,l=e.primaryColor,s=void 0===l?"black":l,h=e.contrastColor,f=void 0===h?"white":h,u=e.buttonText,d=void 0===u?"Spin":u,b=e.isOnlyOnce,g=void 0===b||b,v=e.size,j=void 0===v?290:v,O=e.upDuration,m=void 0===O?100:O,p=e.downDuration,x=void 0===p?1e3:p,S=e.fontFamily,y=void 0===S?"proxima-nova":S,P="",I=!1,M=Object(i.useState)(!1),w=Object(c.a)(M,2),T=w[0],k=w[1],A=0,E=t.length,C=0,B=0,F=null,D=Math.PI/"".concat(t.length),L=t.length*m,W=t.length*x,J=0,N=0,Q=300,z=300;Object(i.useEffect)((function(){q(),setTimeout((function(){window.scrollTo(0,1)}),0)}),[]);var q=function(){G(),R()},G=function(){var e=document.getElementById("canvas");console.log(navigator),-1!==navigator.userAgent.indexOf("MSIE")&&((e=document.createElement("canvas")).setAttribute("width",1e3),e.setAttribute("height",600),e.setAttribute("id","canvas"),document.getElementById("wheel").appendChild(e)),e.addEventListener("click",H,!1),F=e.getContext("2d")},H=function(){I=!0,0===A&&(J=(new Date).getTime(),D=Math.PI/t.length,N=0,A=setInterval(K,E))},K=function(){N++,X();var e=(new Date).getTime()-J,n=0,i=!1;for(e<L?(n=e/L,B=D*Math.sin(n*Math.PI/2)):(o&&P===o&&N>t.length?(n=e/L,B=D*Math.sin(n*Math.PI/2+Math.PI/2),n=1):(n=e/W,B=D*Math.sin(n*Math.PI/2+Math.PI/2)),n>=1&&(i=!0)),C+=B;C>=2*Math.PI;)C-=2*Math.PI;i&&(k(!0),a(P),clearInterval(A),A=0,B=0)},R=function(){V(),Z(),U()},X=function(){V(),Z(),U()},Y=function(e,i,o){var a=F,l=t[e];a.save(),a.beginPath(),a.moveTo(Q,z),a.arc(Q,z,j,i,o,!1),a.lineTo(Q,z),a.closePath(),a.fillStyle=n[e],a.fill(),a.stroke(),a.save(),a.translate(Q,z),a.rotate((i+o)/2),a.fillStyle=f,a.font="bold 1em "+y,a.fillText(l.substr(0,21),j/2+20,0),a.restore()},Z=function(){var e=F,n=C,i=t.length,o=2*Math.PI;e.lineWidth=1,e.strokeStyle=s,e.textBaseline="middle",e.textAlign="center",e.font="1em "+y;for(var a=1;a<=i;a++){var l=o*(a/i)+C;Y(a-1,n,l),n=l}e.beginPath(),e.arc(Q,z,50,0,o,!1),e.closePath(),e.fillStyle=s,e.lineWidth=10,e.strokeStyle=f,e.fill(),e.font="bold 1em "+y,e.fillStyle=f,e.textAlign="center",e.fillText(d,Q,303),e.stroke(),e.beginPath(),e.arc(Q,z,j,0,o,!1),e.closePath(),e.lineWidth=10,e.strokeStyle=s,e.stroke()},U=function(){var e=F;e.lineWidth=1,e.strokeStyle=f,e.fileStyle=f,e.beginPath(),e.moveTo(320,250),e.lineTo(280,250),e.lineTo(Q,230),e.closePath(),e.fill();var n=C+Math.PI/2,i=t.length-Math.floor(n/(2*Math.PI)*t.length)-1;i<0&&(i+=t.length),e.textAlign="center",e.textBaseline="middle",e.fillStyle=s,e.font="bold 1.5em "+y,P=t[i],I&&e.fillText(P,310,z+j+50)},V=function(){F.clearRect(0,0,1e3,800)};return Object(r.jsx)("div",{id:"wheel",children:Object(r.jsx)("canvas",{id:"canvas",width:"600",height:"600",style:{pointerEvents:T&&g?"none":"auto"}})})};n(53),n(110),n(115),n(112),n(114);var h=n(52),f=n.n(h);var u=function(){var e=Object(i.useState)(!0),t=Object(c.a)(e,2),n=t[0],o=t[1],a=Object(i.useState)("general"),l=Object(c.a)(a,2),h=l[0],u=(l[1],Object(i.useState)([])),d=Object(c.a)(u,2),b=(d[0],d[1]),g=Object(i.useState)([]),v=Object(c.a)(g,2),j=v[0],O=v[1],m=Object(i.useState)([]),p=Object(c.a)(m,2),x=p[0],S=p[1],y=Object(i.useState)([]),P=Object(c.a)(y,2),I=P[0],M=P[1],w=["#ff9900","#b36b00","#ffe6bf","#ffcc80","#00b366","#007d48","#bfffe4","#80ffc9","#400099","#2d006b","#dabfff","#b580ff"],T=function(){var e=[];j.length>0&&b(Object.keys(j[0])),j.forEach((function(t){h in t&&""!==t[h]&&e.push(t[h])})),S(e);var t=Math.ceil(e.length/w.length);M(function(e,t){return Array.from({length:t},(function(){return e})).flat()}(w,t))};return Object(i.useEffect)((function(){f.a.get("https://opensheet.vercel.app/1wqfGJb1KAiTt2mhr2oQkfBbfiQrAJapH8BXQ196YZgo/restaurant").then((function(e){O(e.data)})).catch((function(e){o(!1),console.error(e)}))}),[]),Object(i.useEffect)((function(){T(),console.log(h),console.log(x)}),[j,h]),x.length>0?Object(r.jsx)("div",{className:"wheelwrapper",children:Object(r.jsx)(s,{segments:x,segColors:I,onFinished:function(e){return function(e){console.log(e)}(e)},primaryColor:"black",contrastColor:"white",buttonText:"Spin",isOnlyOnce:!1,size:200,upDuration:100,downDuration:1e3,fontFamily:"Arial"})}):n?Object(r.jsx)("p",{children:"Loading ..."}):Object(r.jsx)("p",{children:"Error!"})};var d=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)("header",{className:"App-header",children:[Object(r.jsx)("h1",{children:"aetherAI Lunch Wheel"}),Object(r.jsx)(u,{})]})})},b=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,116)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,a=t.getLCP,l=t.getTTFB;n(e),i(e),o(e),a(e),l(e)}))};l.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(d,{})}),document.getElementById("root")),b()}},[[87,1,2]]]);
//# sourceMappingURL=main.73f07ef2.chunk.js.map